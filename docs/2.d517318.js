(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{39:function(e,s,r){"use strict";r.r(s);var a={components:{}},n=r(2),t=Object(n.a)(a,function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("section",[r("h1",[e._v("照相机")]),e._v(" "),r("h2",[e._v("1. 什么是照相机")]),e._v(" "),e._m(0),e._v(" "),r("h2",[e._v("2. 正交投影 与 透视投影")]),e._v(" "),r("p",[e._v("透视投影照相机的作用类似人眼在真实世界中看到的『近大远小』的效果（如下图 a）;而正交投影照相机的作用类似在数学几何中的效果，对于三维空间中平行的线，投影到二维空间也一定平行（如下图 b），这样就不会因投影而改变物体比例。")]),e._v(" "),e._m(1),e._v(" "),r("h2",[e._v("3. 正交投影照相机")]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),r("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-2, 2, 1.5, -1.5, 1, 10)\ncamera.position.set(0, 0, 3)\nscene.add(camera)\n\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(1, 1, 1),\n  new THREE.MeshBasicMaterial({ color: 0xff0000, wireframe: true })\n)\nscene.add(cube)\n\nrenderer.render(scene, camera)\n"}},[r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" renderer = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.WebGLRenderer()\nrenderer.setSize("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("400")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("300")]),e._v(")\n"),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("document")]),e._v(".querySelector("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'#app'")]),e._v(").appendChild(renderer.domElement)\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" scene = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Scene()\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" camera = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.OrthographicCamera("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("-2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1.5")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("-1.5")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("10")]),e._v(")\ncamera.position.set("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("3")]),e._v(")\nscene.add(camera)\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" cube = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Mesh(\n  "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.CubeGeometry("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v("),\n  "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.MeshBasicMaterial({ "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("color")]),e._v(": "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0xff0000")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("wireframe")]),e._v(": "),r("span",{pre:!0,attrs:{class:"hljs-literal"}},[e._v("true")]),e._v(" })\n)\nscene.add(cube)\n\nrenderer.render(scene, camera)\n")])])]),e._m(7),e._v(" "),r("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-2, 2, 1.5, -1.5, 1, 8)\ncamera.position.set(2, -2, 4)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(1, 1, 1),\n  new THREE.MeshBasicMaterial({ color: 0xff0000, wireframe: true })\n)\nscene.add(cube)\n\nrenderer.render(scene, camera)\n\ncamera.position.z = 4\n\nconst animate = function() {\n  requestAnimationFrame(animate)\n\n  cube.rotation.x += 0.01\n  cube.rotation.y += 0.01\n\n  renderer.render(scene, camera)\n}\n\nanimate()\n"}},[r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" renderer = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.WebGLRenderer()\nrenderer.setSize("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("400")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("300")]),e._v(")\n"),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("document")]),e._v(".querySelector("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'#app'")]),e._v(").appendChild(renderer.domElement)\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" scene = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Scene()\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" camera = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.OrthographicCamera("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("-2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1.5")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("-1.5")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("8")]),e._v(")\ncamera.position.set("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("-2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("4")]),e._v(")\ncamera.lookAt("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Vector3("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v("))\nscene.add(camera)\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" cube = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Mesh(\n  "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.CubeGeometry("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v("),\n  "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.MeshBasicMaterial({ "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("color")]),e._v(": "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0xff0000")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("wireframe")]),e._v(": "),r("span",{pre:!0,attrs:{class:"hljs-literal"}},[e._v("true")]),e._v(" })\n)\nscene.add(cube)\n\nrenderer.render(scene, camera)\n\ncamera.position.z = "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("4")]),e._v("\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" animate = "),r("span",{pre:!0,attrs:{class:"hljs-function"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("function")]),e._v("("),r("span",{pre:!0,attrs:{class:"hljs-params"}}),e._v(") ")]),e._v("{\n  requestAnimationFrame(animate)\n\n  cube.rotation.x += "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0.01")]),e._v("\n  cube.rotation.y += "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0.01")]),e._v("\n\n  renderer.render(scene, camera)\n}\n\nanimate()\n")])])]),r("h2",[e._v("3. 透视投影照相机")]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),r("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.PerspectiveCamera(60, 400 / 300, 1, 10)\ncamera.position.set(2, 2, 3)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(1, 1, 1),\n  new THREE.MeshBasicMaterial({ color: 0xff0000, wireframe: true })\n)\nscene.add(cube)\n\nrenderer.render(scene, camera)\n"}},[r("pre",{pre:!0},[r("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" renderer = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.WebGLRenderer()\nrenderer.setSize("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("400")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("300")]),e._v(")\n"),r("span",{pre:!0,attrs:{class:"hljs-built_in"}},[e._v("document")]),e._v(".querySelector("),r("span",{pre:!0,attrs:{class:"hljs-string"}},[e._v("'#app'")]),e._v(").appendChild(renderer.domElement)\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" scene = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Scene()\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" camera = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.PerspectiveCamera("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("60")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("400")]),e._v(" / "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("300")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("10")]),e._v(")\ncamera.position.set("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("2")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("3")]),e._v(")\ncamera.lookAt("),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Vector3("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0")]),e._v("))\nscene.add(camera)\n\n"),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("const")]),e._v(" cube = "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.Mesh(\n  "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.CubeGeometry("),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("1")]),e._v("),\n  "),r("span",{pre:!0,attrs:{class:"hljs-keyword"}},[e._v("new")]),e._v(" THREE.MeshBasicMaterial({ "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("color")]),e._v(": "),r("span",{pre:!0,attrs:{class:"hljs-number"}},[e._v("0xff0000")]),e._v(", "),r("span",{pre:!0,attrs:{class:"hljs-attr"}},[e._v("wireframe")]),e._v(": "),r("span",{pre:!0,attrs:{class:"hljs-literal"}},[e._v("true")]),e._v(" })\n)\nscene.add(cube)\n\nrenderer.render(scene, camera)\n")])])])],1)},[function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("p",[e._v("使用 "),r("code",{pre:!0},[e._v("three.js")]),e._v(" 创建的场景是三维的，但是一般情况下屏幕是二维的，那么三维场景就要显示到二维的显示屏上。照相机就是这样一个抽象，它定义了 "),r("strong",[e._v("三维空间")]),e._v(" 到 "),r("strong",[e._v("二维屏幕")]),e._v(" 的 "),r("strong",[e._v("投影")]),e._v(" 方式。\n针对不同的投影方式，照相机分为 "),r("strong",[e._v("正交投影照相机")]),e._v(" 和 "),r("strong",[e._v("透视投影照相机")]),e._v("。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[s("img",{attrs:{src:"http://p0.qhimg.com/t0129a7691a270841fc.png",alt:"正交投影与透视投影"}})])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("在 "),s("code",{pre:!0},[this._v("three.js")]),this._v(" 中正交投影照相机为 "),s("code",{pre:!0},[this._v("OrthographicCamera")]),this._v("。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("pre",{pre:!0},[s("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s("span",{pre:!0,attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" THREE.OrthographicCamera(left, right, top, bottom, near, far)\n")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("这 6 个参数分别代表正交投影照相机拍摄到的空间的 6 个面的位置，这 6 个面刚好围成一个长方体，称其为 "),s("strong",[this._v("场景体（frustum）")]),this._v("。只有在场景体内部的物体才可以显示到屏幕上，场景体之外的物体会被裁剪掉。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("为了保证照相机的横竖比例，需要满足: "),s("code",{pre:!0},[this._v("canvas.width / canvas.height = (right - left) / (top - bottom)")]),this._v("。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[s("img",{attrs:{src:"http://p4.qhimg.com/t01143e1ece584883fc.png",alt:"正交投影照相机"}})])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("目前，使用照相机都是延着 "),s("code",{pre:!0},[this._v("z")]),this._v(" 轴负方向观察的。可以改变照相机位置，然后在通过 "),s("code",{pre:!0},[this._v("lookAt")]),this._v(" 函数指定它看着某个方向。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("在 "),s("code",{pre:!0},[this._v("three.js")]),this._v(" 中透视投影照相机为 "),s("code",{pre:!0},[this._v("PerspectiveCamera")]),this._v("。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("pre",{pre:!0},[s("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[s("span",{pre:!0,attrs:{class:"hljs-keyword"}},[this._v("new")]),this._v(" THREE.OrthographicCamera(fov, aspect, near, far)\n")])])},function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("ul",[r("li",[r("code",{pre:!0},[e._v("fov")]),e._v(": 视景体竖直方向上的张角")]),e._v(" "),r("li",[r("code",{pre:!0},[e._v("aspect")]),e._v(": 满足 "),r("code",{pre:!0},[e._v("aspect=width / height")]),e._v("，照相机水平长度和垂直高度比值，通常为 "),r("code",{pre:!0},[e._v("canvas")]),e._v(" 横纵比例")]),e._v(" "),r("li",[r("code",{pre:!0},[e._v("near")]),e._v(": 照相机到视景 最近距离")]),e._v(" "),r("li",[r("code",{pre:!0},[e._v("far")]),e._v(": 照相机到视景 最远距离")])])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("这 6 个参数分别代表正交投影照相机拍摄到的空间的 6 个面的位置，这 6 个面刚好围成一个长方体，称其为 "),s("strong",[this._v("场景体（frustum）")]),this._v("。只有在场景体内部的物体才可以显示到屏幕上，场景体之外的物体会被裁剪掉。")])},function(){var e=this.$createElement,s=this._self._c||e;return s("p",[this._v("为了保证照相机的横竖比例，需要满足: "),s("code",{pre:!0},[this._v("canvas.width / canvas.height = (right - left) / (top - bottom)")]),this._v("。\n"),s("img",{attrs:{src:"http://p1.qhimg.com/t01ed4da0ebc97fa520.jpg",alt:"透视投影照相机"}})])}],!1,null,null,null);s.default=t.exports}}]);