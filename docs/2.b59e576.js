(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{38:function(s,e,n){"use strict";n.r(e);var a={components:{}},r=n(2),t=Object(r.a)(a,function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("section",[n("h1",[s._v("光与影")]),s._v(" "),n("p",[s._v("使用 光与影 可以使场景的渲染效果更加丰富逼真。")]),s._v(" "),n("h2",[s._v("1. 环境光")]),s._v(" "),s._m(0),s._v(" "),n("p",[s._v("设置环境光，只需要指定光的颜色。")]),s._v(" "),n("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(5, 15, 25)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst light = new THREE.AmbientLight(0xffcc00)\nscene.add(light)\n\nconst cube1 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0x00ff00 })\n)\ncube1.position.x = -3\nscene.add(cube1)\n\nconst cube2 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0xfff000 })\n)\ncube2.position.x = 3\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n"}},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\ncamera.lookAt("),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffcc00")]),s._v(")\nscene.add(light)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube1 = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ff00")]),s._v(" })\n)\ncube1.position.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3")]),s._v("\nscene.add(cube1)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube2 = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xfff000")]),s._v(" })\n)\ncube2.position.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n")])])]),n("h2",[s._v("2. 点光源")]),s._v(" "),n("p",[s._v("点光源是不计光源大小。点光源照到不同物体表面的亮度是线性递减的，因此距离光源越远的物体显得越暗。")]),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),n("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\n\n//告诉渲染器需要阴影效果\nrenderer.shadowMap.enabled = true\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\n// 照相机\nconst camera = new THREE.PerspectiveCamera(45, 400 / 300, 0.1, 400)\ncamera.position.set(0, 40, 20)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\n// 光照\nconst pointLight = new THREE.PointLight(0xffffff)\npointLight.position.set(16, 12, -8)\n\n// 开启平行光的阴影投射\npointLight.castShadow = true\n\nscene.add(pointLight)\n\n//添加灯光辅助\nconst debug = new THREE.PointLightHelper(pointLight)\ndebug.name = 'debug'\nscene.add(debug)\n\nconst ambientLight = new THREE.AmbientLight(0x111111)\n\nscene.add(ambientLight)\n\n{\n  // 底部平面\n  const plane = new THREE.Mesh(\n    new THREE.PlaneGeometry(20, 20),\n    new THREE.MeshLambertMaterial({ color: 0xaaaaaa })\n  )\n  plane.position.y = -2\n  plane.rotation.x = -0.6 * Math.PI\n  plane.receiveShadow = true\n  scene.add(plane)\n\n  // 球体\n  const sphere = new THREE.Mesh(\n    new THREE.SphereGeometry(2, 80, 80),\n    new THREE.MeshPhongMaterial({ color: 0xfe02ef })\n  )\n  sphere.position.x = -3\n  sphere.castShadow = true\n  scene.add(sphere)\n\n  const cube = new THREE.Mesh(\n    new THREE.CubeGeometry(2, 2, 2),\n    new THREE.MeshLambertMaterial({ color: 0x00ffff })\n  )\n  cube.position.x = 4\n  cube.position.y = 0\n  cube.castShadow = true\n  scene.add(cube)\n}\n\nrenderer.render(scene, camera)\n"}},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n\n\nrenderer.shadowMap.enabled = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PerspectiveCamera("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("45")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(")\ncamera.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(")\ncamera.lookAt("),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" pointLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PointLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffffff")]),s._v(")\npointLight.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-8")]),s._v(")\n\n\npointLight.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\nscene.add(pointLight)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" debug = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PointLightHelper(pointLight)\ndebug.name = "),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'debug'")]),s._v("\nscene.add(debug)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ambientLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x111111")]),s._v(")\n\nscene.add(ambientLight)\n\n{\n  \n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" plane = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PlaneGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xaaaaaa")]),s._v(" })\n  )\n  plane.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-2")]),s._v("\n  plane.rotation.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.6")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI\n  plane.receiveShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(plane)\n\n  \n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" sphere = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SphereGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshPhongMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xfe02ef")]),s._v(" })\n  )\n  sphere.position.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3")]),s._v("\n  sphere.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(sphere)\n\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ffff")]),s._v(" })\n  )\n  cube.position.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("\n  cube.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n  cube.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(cube)\n}\n\nrenderer.render(scene, camera)\n")])])]),n("h2",[s._v("3. 平行光")]),s._v(" "),n("p",[s._v("常常会把太阳光当做平行光，因为相对地球上物体的尺度而言，太阳距离地球的距离足够远。对于任意平行的平面，平行光照射的亮度都是相同的，而与平面所在位置无关。")]),s._v(" "),s._m(3),s._v(" "),n("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\n\n//告诉渲染器需要阴影效果\nrenderer.shadowMap.enabled = true\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\n// 照相机\nconst camera = new THREE.PerspectiveCamera(45, 400 / 300, 0.1, 400)\ncamera.position.set(0, 40, 30)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\n// 光照\nconst directionalLight = new THREE.DirectionalLight(0xffffff)\ndirectionalLight.position.set(16, 12, -8)\n\n// 开启平行光的阴影投射\ndirectionalLight.castShadow = true\n\n// 光照阴影\ndirectionalLight.shadow.camera.near = 10\ndirectionalLight.shadow.camera.far = 30\ndirectionalLight.shadow.camera.left = -8\ndirectionalLight.shadow.camera.right = 8\ndirectionalLight.shadow.camera.top = 8\ndirectionalLight.shadow.camera.bottom = -8\n\n// 阴影密度\ndirectionalLight.shadow.mapSize.width = 200\ndirectionalLight.shadow.mapSize.height = 200\n\nscene.add(directionalLight)\n\n//添加灯光辅助\nconst debug = new THREE.CameraHelper(directionalLight.shadow.camera)\ndebug.name = 'debug'\nscene.add(debug)\n\nconst ambientLight = new THREE.AmbientLight(0x111111)\n\nscene.add(ambientLight)\n\n{\n  // 底部平面\n  const plane = new THREE.Mesh(\n    new THREE.PlaneGeometry(20, 20),\n    new THREE.MeshLambertMaterial({ color: 0xaaaaaa })\n  )\n  plane.position.y = -2\n  plane.rotation.x = -0.6 * Math.PI\n  plane.receiveShadow = true\n  scene.add(plane)\n\n  // 球体\n  const sphere = new THREE.Mesh(\n    new THREE.SphereGeometry(2, 80, 80),\n    new THREE.MeshPhongMaterial({ color: 0xfe02ef })\n  )\n  sphere.position.y = 2\n  sphere.castShadow = true\n  directionalLight.target = sphere\n  scene.add(sphere)\n\n  const cube = new THREE.Mesh(\n    new THREE.CubeGeometry(2, 2, 2),\n    new THREE.MeshLambertMaterial({ color: 0x00ffff })\n  )\n  cube.position.x = 4\n  cube.position.y = 0\n  cube.castShadow = true\n  scene.add(cube)\n}\n\nfunction animate() {\n  renderer.render(scene, camera)\n\n  requestAnimationFrame(animate)\n}\n\nanimate()\n"}},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n\n\nrenderer.shadowMap.enabled = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PerspectiveCamera("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("45")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(")\ncamera.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v(")\ncamera.lookAt("),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" directionalLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.DirectionalLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffffff")]),s._v(")\ndirectionalLight.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-8")]),s._v(")\n\n\ndirectionalLight.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\n\ndirectionalLight.shadow.camera.near = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v("\ndirectionalLight.shadow.camera.far = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v("\ndirectionalLight.shadow.camera.left = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-8")]),s._v("\ndirectionalLight.shadow.camera.right = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v("\ndirectionalLight.shadow.camera.top = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v("\ndirectionalLight.shadow.camera.bottom = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-8")]),s._v("\n\n\ndirectionalLight.shadow.mapSize.width = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v("\ndirectionalLight.shadow.mapSize.height = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v("\n\nscene.add(directionalLight)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" debug = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CameraHelper(directionalLight.shadow.camera)\ndebug.name = "),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'debug'")]),s._v("\nscene.add(debug)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ambientLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x111111")]),s._v(")\n\nscene.add(ambientLight)\n\n{\n  \n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" plane = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PlaneGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xaaaaaa")]),s._v(" })\n  )\n  plane.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-2")]),s._v("\n  plane.rotation.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.6")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI\n  plane.receiveShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(plane)\n\n  \n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" sphere = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SphereGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshPhongMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xfe02ef")]),s._v(" })\n  )\n  sphere.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n  sphere.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  directionalLight.target = sphere\n  scene.add(sphere)\n\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ffff")]),s._v(" })\n  )\n  cube.position.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("\n  cube.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n  cube.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(cube)\n}\n\n"),n("span",{pre:!0,attrs:{class:"hljs-function"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("animate")]),s._v("("),n("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(") ")]),s._v("{\n  renderer.render(scene, camera)\n\n  requestAnimationFrame(animate)\n}\n\nanimate()\n")])])]),n("h2",[s._v("4. 户外光")]),s._v(" "),s._m(4),s._v(" "),s._m(5),s._v(" "),n("p",[s._v("属性介绍：")]),s._v(" "),s._m(6),s._v(" "),n("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\n// 开启渲染器阴影效果\nrenderer.shadowMap.enable = true\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n// 初始化场景\nconst scene = new THREE.Scene()\n\n// 照相机\nconst camera = new THREE.PerspectiveCamera(45, 400 / 300, 0.1, 200)\ncamera.position.set(0, 40, 20)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\n// 光照\nconst ambientLight = new THREE.AmbientLight(0x111111)\nscene.add(ambientLight)\n\nconst hemisphereLight = new THREE.HemisphereLight(0xffff, 0xff0000, 1)\nscene.add(hemisphereLight)\n\n// 添加物体\n{\n  const plane = new THREE.Mesh(\n    new THREE.PlaneGeometry(20, 20),\n    new THREE.MeshLambertMaterial({ color: 0xaaaaaa })\n  )\n  plane.receiveShadow = true\n  plane.rotation.x = -0.7 * Math.PI\n  scene.add(plane)\n\n  const sphere = new THREE.Mesh(\n    new THREE.SphereGeometry(2, 20, 20),\n    new THREE.MeshPhongMaterial({ color: 0xffffff })\n  )\n  sphere.castShadow = true\n  sphere.position.set(-2, 16, 0)\n  scene.add(sphere)\n\n  const cube = new THREE.Mesh(\n    new THREE.CubeGeometry(2, 2, 2),\n    new THREE.MeshLambertMaterial({ color: 0x00ec4f })\n  )\n  cube.position.set(2, 0, -5)\n  cube.castShadow = true\n  scene.add(cube)\n}\n\nrenderer.render(scene, camera)\n"}},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n\nrenderer.shadowMap.enable = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PerspectiveCamera("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("45")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("200")]),s._v(")\ncamera.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(")\ncamera.lookAt("),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ambientLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x111111")]),s._v(")\nscene.add(ambientLight)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" hemisphereLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.HemisphereLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffff")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xff0000")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\nscene.add(hemisphereLight)\n\n\n{\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" plane = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PlaneGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xaaaaaa")]),s._v(" })\n  )\n  plane.receiveShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  plane.rotation.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.7")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI\n  scene.add(plane)\n\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" sphere = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SphereGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshPhongMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffffff")]),s._v(" })\n  )\n  sphere.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  sphere.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(")\n  scene.add(sphere)\n\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ec4f")]),s._v(" })\n  )\n  cube.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(")\n  cube.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(cube)\n}\n\nrenderer.render(scene, camera)\n")])])]),n("h2",[s._v("5. 聚光灯")]),s._v(" "),s._m(7),s._v(" "),n("p",[s._v("聚光灯是一种特殊的点光源，能够朝着一个方向投射光线。聚光灯投射处的是类似圆锥形的光线。")]),s._v(" "),s._m(8),s._v(" "),n("p",[s._v("相比 点光源 多出了：")]),s._v(" "),s._m(9),s._v(" "),n("p",[s._v("在调用构造函数后，除了设置自身位置,还要设置 target 位置：")]),s._v(" "),s._m(10),s._v(" "),s._m(11),s._v(" "),s._m(12),s._v(" "),n("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(2, 3, 10)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst light = new THREE.SpotLight(0xffffff, 1, 100, Math.PI / 2, 10)\nlight.position.set(2, 2, 3)\n\nscene.add(light)\n\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0xff0000 })\n)\n\nscene.add(cube)\n\nrenderer.render(scene, camera)\n"}},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(")\ncamera.lookAt("),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SpotLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffffff")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(")\nlight.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\n\nscene.add(light)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xff0000")]),s._v(" })\n)\n\nscene.add(cube)\n\nrenderer.render(scene, camera)\n")])])]),n("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\n\n//告诉渲染器需要阴影效果\nrenderer.shadowMap.enabled = true\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\n// 照相机\nconst camera = new THREE.PerspectiveCamera(45, 400 / 300, 0.1, 400)\ncamera.position.set(0, 40, 30)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\n// 光照\nconst spotLight = new THREE.SpotLight(0xffffff, 2)\nspotLight.position.set(16, 12, -10)\nspotLight.angle = Math.PI / 6\nspotLight.distance = 100\n\n// 开启平行光的阴影投射\nspotLight.castShadow = true\n\nscene.add(spotLight)\n\n//添加灯光辅助\nconst debug = new THREE.CameraHelper(spotLight.shadow.camera)\ndebug.name = 'debug'\nscene.add(debug)\nconst spotLightHelper = new THREE.SpotLightHelper(spotLight)\nscene.add(spotLightHelper)\n\nconst ambientLight = new THREE.AmbientLight(0x111111)\n\nscene.add(ambientLight)\n\n{\n  // 底部平面\n  const plane = new THREE.Mesh(\n    new THREE.PlaneGeometry(20, 20),\n    new THREE.MeshLambertMaterial({ color: 0xaaaaaa })\n  )\n  plane.position.y = -2\n  plane.rotation.x = -0.6 * Math.PI\n  plane.receiveShadow = true\n  scene.add(plane)\n\n  // 球体\n  const sphere = new THREE.Mesh(\n    new THREE.SphereGeometry(2, 80, 80),\n    new THREE.MeshPhongMaterial({ color: 0xfe02ef })\n  )\n  sphere.position.y = 2\n  sphere.castShadow = true\n  spotLight.target = sphere\n  scene.add(sphere)\n\n  const cube = new THREE.Mesh(\n    new THREE.CubeGeometry(2, 2, 2),\n    new THREE.MeshLambertMaterial({ color: 0x00ffff })\n  )\n  cube.position.x = 4\n  cube.position.y = 0\n  cube.castShadow = true\n  scene.add(cube)\n}\n\nrenderer.render(scene, camera)\n"}},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n\n\nrenderer.shadowMap.enabled = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PerspectiveCamera("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("45")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(")\ncamera.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("40")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v(")\ncamera.lookAt("),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" spotLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SpotLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffffff")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(")\nspotLight.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("16")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-10")]),s._v(")\nspotLight.angle = "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v("\nspotLight.distance = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v("\n\n\nspotLight.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\nscene.add(spotLight)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" debug = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CameraHelper(spotLight.shadow.camera)\ndebug.name = "),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'debug'")]),s._v("\nscene.add(debug)\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" spotLightHelper = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SpotLightHelper(spotLight)\nscene.add(spotLightHelper)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ambientLight = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x111111")]),s._v(")\n\nscene.add(ambientLight)\n\n{\n  \n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" plane = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PlaneGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xaaaaaa")]),s._v(" })\n  )\n  plane.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-2")]),s._v("\n  plane.rotation.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-0.6")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI\n  plane.receiveShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(plane)\n\n  \n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" sphere = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SphereGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("80")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshPhongMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xfe02ef")]),s._v(" })\n  )\n  sphere.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n  sphere.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  spotLight.target = sphere\n  scene.add(sphere)\n\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n    "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ffff")]),s._v(" })\n  )\n  cube.position.x = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4")]),s._v("\n  cube.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n  cube.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n  scene.add(cube)\n}\n\nrenderer.render(scene, camera)\n")])])]),n("h2",[s._v("5. 阴影")]),s._v(" "),n("p",[s._v("明暗是相对的，阴影的形成是因为比周围获得的光照更少。因此，要形成阴影，光源必不可少。")]),s._v(" "),s._m(13),s._v(" "),s._m(14),s._v(" "),n("p"),s._v(" "),n("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nrenderer.shadowMap.enabled = true\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(10, 15, 25)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\n// 绘底部平面\nconst plane = new THREE.Mesh(\n  new THREE.PlaneGeometry(8, 8, 12, 12),\n  new THREE.MeshLambertMaterial({ color: 0xcccccc })\n)\nplane.rotation.x = -Math.PI / 2\nplane.position.y = -1\nplane.receiveShadow = true\nscene.add(plane)\n\n// 绘制立方体\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(1, 1, 1),\n  new THREE.MeshLambertMaterial({ color: 0xff0000 })\n)\ncube.castShadow = true\nscene.add(cube)\n\n// 环境光\nconst ambient = new THREE.AmbientLight(0x666666)\nscene.add(ambient)\n\n// 聚光灯\nconst light = new THREE.SpotLight(0x00f0f0, 1, 800, Math.PI / 6, 25)\nlight.position.set(2, 6, 3)\nlight.target = cube\nlight.castShadow = true\n\nlight.shadow.camera.near = 2\nlight.shadow.camera.far = 100\nlight.shadow.camera.fov = 30\nlight.shadow.camera.visible = true\n\nlight.shadow.mapSize.width = 1024\nlight.shadow.mapSize.height = 1024\n\nscene.add(light)\n\n// 灯光辅助\nconst debug = new THREE.CameraHelper(light.shadow.camera)\nscene.add(debug)\n\nlet alpha = 0\n\nconst animate = () => {\n  alpha += 0.01\n  if (alpha > Math.PI * 2) {\n    alpha -= Math.PI * 2\n  }\n\n  cube.position.set(2 * Math.cos(alpha), 0, 2 * Math.sin(alpha))\n\n  renderer.render(scene, camera)\n  requestAnimationFrame(animate)\n}\n\nanimate()\n"}},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),n("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\nrenderer.shadowMap.enabled = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\ncamera.lookAt("),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" plane = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PlaneGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v("),\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xcccccc")]),s._v(" })\n)\nplane.rotation.x = -"),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\nplane.position.y = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v("\nplane.receiveShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nscene.add(plane)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("),\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),n("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xff0000")]),s._v(" })\n)\ncube.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nscene.add(cube)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ambient = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x666666")]),s._v(")\nscene.add(ambient)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SpotLight("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00f0f0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("800")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\nlight.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\nlight.target = cube\nlight.castShadow = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\nlight.shadow.camera.near = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\nlight.shadow.camera.far = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v("\nlight.shadow.camera.fov = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v("\nlight.shadow.camera.visible = "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\nlight.shadow.mapSize.width = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v("\nlight.shadow.mapSize.height = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v("\n\nscene.add(light)\n\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" debug = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CameraHelper(light.shadow.camera)\nscene.add(debug)\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" alpha = "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" animate = "),n("span",{pre:!0,attrs:{class:"hljs-function"}},[n("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n  alpha += "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.01")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (alpha > "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI * "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(") {\n    alpha -= "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI * "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n  }\n\n  cube.position.set("),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".cos(alpha), "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".sin(alpha))\n\n  renderer.render(scene, camera)\n  requestAnimationFrame(animate)\n}\n\nanimate()\n")])])])],1)},[function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("环境光是指场景整体的光照效果，通常用来为整个场景指定一个 "),e("strong",[this._v("基础亮度")]),this._v("。环境光没有明确的光源位置，在各处形成的亮度是一致的。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("点光源构造函数为："),e("code",{pre:!0},[this._v("new THREE.PointLight(hex, intensity, distance)")]),this._v("。")])},function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ul",[n("li",[n("code",{pre:!0},[s._v("hex")]),s._v(": 光源颜色")]),s._v(" "),n("li",[n("code",{pre:!0},[s._v("intensity")]),s._v(": 亮度，默认 1")]),s._v(" "),n("li",[n("code",{pre:!0},[s._v("distance")]),s._v(": 光源照射距离，默认 0")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("平行光的构造函数为："),e("code",{pre:!0},[this._v("new THREE.DirectionalLight(hex, intensity)")]),this._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("使用 "),e("code",{pre:!0},[this._v("THREE.HemisphereLight")]),this._v(" 可以创建更加贴近自然的户外光照效果。户外光不会产生阴影。")])},function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("p",[s._v("如果不使用 "),n("code",{pre:!0},[s._v("THREE.HemisphereLight")]),s._v(" ，要模拟户外光照，一般是创建一个 "),n("code",{pre:!0},[s._v("THREE.DirectionalLight")]),s._v(" 来模拟太阳光，然后添加 "),n("code",{pre:!0},[s._v("THREE.AmbientLight")]),s._v(" 来为场景提供基础光照。但是这样的光照是不够自然的，因为在户外，并不是所有的光源都来自上方（很多事来自大气的散射以及其他物体的反射）。"),n("code",{pre:!0},[s._v("THREE.HemisphereLight")]),s._v(" 为获得更加自然的户外光照提供了一个简单的方式。")])},function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ul",[n("li",[n("code",{pre:!0},[s._v("color")]),s._v(": 从天空发出的光线的颜色")]),s._v(" "),n("li",[n("code",{pre:!0},[s._v("groundColor")]),s._v("：从地面发出的光线的颜色")]),s._v(" "),n("li",[n("code",{pre:!0},[s._v("intensity")]),s._v(": 光照强度")]),s._v(" "),n("li",[n("code",{pre:!0},[s._v("position")]),s._v(": 光源在场景中的位置，默认 "),n("code",{pre:!0},[s._v("(0, 100, 0)")])]),s._v(" "),n("li",[n("code",{pre:!0},[s._v("visible")]),s._v(": 默认 "),n("code",{pre:!0},[s._v("true")]),s._v("，控制光源是否可见")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("官网上对聚光灯的定义为："),e("code",{pre:!0},[this._v("A point light that can cast shadow in one direction.")]),this._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("聚光灯构造函数为："),e("code",{pre:!0},[this._v("new THREE.SpotLight(hex, intensity, distance, angle, exponent)")]),this._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("ul",[e("li",[e("code",{pre:!0},[this._v("angle")]),this._v(": 聚光灯的张角，默认 Math.PI / 3，最大是 Math.PI / 2")]),this._v(" "),e("li",[e("code",{pre:!0},[this._v("exponent")]),this._v(": 光强在距离 target 的衰减指数，默认值 10")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[this._v("light.position.set(x1, y1, z1)\nlight.targte.position.set(x2, y2, z2)\n")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("除了设置 "),e("code",{pre:!0},[this._v("light.target.position")]),this._v(" 外，如果要让聚光灯跟着某物体一起动，可以指定 "),e("code",{pre:!0},[this._v("target")]),this._v(" 为该物体。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[this._v("light.target = cube\n")])])},function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("p",[s._v("在 THREE.js 中，能形成阴影的光源只有 "),n("code",{pre:!0},[s._v("THREE.DirectionalLight")]),s._v(" 和 "),n("code",{pre:!0},[s._v("THREE.SpotLight")]),s._v("；相应地可以表现阴影效果的材质只有 "),n("code",{pre:!0},[s._v("THREE.LambertMaterial")]),s._v(" 和 "),n("code",{pre:!0},[s._v("THREE.PhongMaterial")]),s._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("要启用阴影效果，需要显示地告诉渲染器："),e("code",{pre:!0},[this._v("renderer.shadowMapEnabled = true;")]),this._v("。对于光源及要产生阴影的物体调用 "),e("code",{pre:!0},[this._v("xxx.castShadow = true")]),this._v(" ，对接收阴影的物体调用 "),e("code",{pre:!0},[this._v("xxx.receiveShadow = true")]),this._v("。")])}],!1,null,null,null);e.default=t.exports}}]);