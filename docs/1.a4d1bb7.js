(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{33:function(s,e,a){"use strict";a.r(e);var n={components:{}},r=a(2),t=Object(r.a)(n,function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("section",[a("h1",[s._v("光与影")]),s._v(" "),a("p",[s._v("使用 光与影 可以使场景的渲染效果更加丰富逼真。")]),s._v(" "),a("h2",[s._v("1. 环境光")]),s._v(" "),s._m(0),s._v(" "),a("p",[s._v("设置环境光，只需要指定光的颜色。")]),s._v(" "),a("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(5, 15, 25)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst light = new THREE.AmbientLight(0xffcc00)\nscene.add(light)\n\nconst cube1 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0x00ff00 })\n)\ncube1.position.x = -3\nscene.add(cube1)\n\nconst cube2 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0xfff000 })\n)\ncube2.position.x = 3\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n"}},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\ncamera.lookAt("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffcc00")]),s._v(")\nscene.add(light)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ff00")]),s._v(" })\n)\ncube1.position.x = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3")]),s._v("\nscene.add(cube1)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xfff000")]),s._v(" })\n)\ncube2.position.x = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n")])])]),a("h2",[s._v("2. 点光源")]),s._v(" "),a("p",[s._v("点光源是不计光源大小。点光源照到不同物体表面的亮度是线性递减的，因此距离光源越远的物体显得越暗。")]),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),a("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(5, 15, 25)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst light = new THREE.PointLight(0xffcc00, 100)\nlight.position.set(-4, 3, 3)\nscene.add(light)\n\nconst cube1 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0x00ff00 })\n)\ncube1.position.x = -3\n\nscene.add(cube1)\n\nconst cube2 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0xfff000 })\n)\ncube2.position.x = 3\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n"}},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\ncamera.lookAt("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PointLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffcc00")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\nlight.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-4")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\nscene.add(light)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ff00")]),s._v(" })\n)\ncube1.position.x = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3")]),s._v("\n\nscene.add(cube1)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xfff000")]),s._v(" })\n)\ncube2.position.x = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n")])])]),a("h2",[s._v("3. 平行光")]),s._v(" "),a("p",[s._v("常常会被太阳光当做平行光，因为相对地球上物体的尺度而言，太阳距离地球的距离足够远。对于任意平行的平面，平行光照射的亮度都是相同的，而与平面所在位置无关。")]),s._v(" "),s._m(3),s._v(" "),a("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(5, 15, 25)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst light = new THREE.DirectionalLight(0xffcc00, 1)\nlight.position.set(1, 3, 3)\nscene.add(light)\n\nconst cube1 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0x00ff00 })\n)\ncube1.position.x = -3\n\nscene.add(cube1)\n\nconst cube2 = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0xfff000 })\n)\ncube2.position.x = 3\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n"}},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\ncamera.lookAt("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.DirectionalLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffcc00")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\nlight.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\nscene.add(light)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube1 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00ff00")]),s._v(" })\n)\ncube1.position.x = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3")]),s._v("\n\nscene.add(cube1)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube2 = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xfff000")]),s._v(" })\n)\ncube2.position.x = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v("\nscene.add(cube2)\n\nrenderer.render(scene, camera)\n")])])]),a("h2",[s._v("4. 聚光灯")]),s._v(" "),s._m(4),s._v(" "),a("p",[s._v("聚光灯是一种特殊的点光源，能够朝着一个方向投射光线。聚光灯投射处的是类似圆锥形的光线。")]),s._v(" "),s._m(5),s._v(" "),a("p",[s._v("相比 点光源 多出了：")]),s._v(" "),s._m(6),s._v(" "),a("p",[s._v("在调用构造函数后，除了设置自身位置,还要设置 target 位置：")]),s._v(" "),s._m(7),s._v(" "),s._m(8),s._v(" "),s._m(9),s._v(" "),a("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(2, 3, 10)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\nconst light = new THREE.SpotLight(0xffffff, 1, 100, Math.PI / 2, 10)\nlight.position.set(2, 2, 3)\n\nscene.add(light)\n\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(2, 2, 2),\n  new THREE.MeshLambertMaterial({ color: 0xff0000 })\n)\n\nscene.add(cube)\n\nrenderer.render(scene, camera)\n"}},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(")\ncamera.lookAt("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SpotLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffffff")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(")\nlight.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\n\nscene.add(light)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xff0000")]),s._v(" })\n)\n\nscene.add(cube)\n\nrenderer.render(scene, camera)\n")])])]),a("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(10, 15, 25)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\n// 绘底部平面\nconst plane = new THREE.Mesh(\n  new THREE.PlaneGeometry(8, 8, 12, 12),\n  new THREE.MeshLambertMaterial({ color: 0xcccccc })\n)\nplane.rotation.x = -Math.PI / 2\nplane.position.y = -1\nscene.add(plane)\n\n// 绘制立方体\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(1, 1, 1),\n  new THREE.MeshLambertMaterial({ color: 0xff0000 })\n)\nscene.add(cube)\n\n// 环境光\nconst ambient = new THREE.AmbientLight(0xffffff)\nscene.add(ambient)\n\n// 聚光灯\nconst light = new THREE.SpotLight(0xff00f0, 1, 800, Math.PI / 6, 25)\nlight.position.set(2, 2, 3)\nlight.target = cube\nscene.add(light)\n\nlet alpha = 0\n\nconst animate = () => {\n  alpha += 0.01\n  if (alpha > Math.PI * 2) {\n    alpha -= Math.PI * 2\n  }\n\n  cube.position.set(2 * Math.cos(alpha), 0, 2 * Math.sin(alpha))\n\n  renderer.render(scene, camera)\n  requestAnimationFrame(animate)\n}\n\nanimate()\n"}},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\ncamera.lookAt("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" plane = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PlaneGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xcccccc")]),s._v(" })\n)\nplane.rotation.x = -"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\nplane.position.y = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v("\nscene.add(plane)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xff0000")]),s._v(" })\n)\nscene.add(cube)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ambient = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xffffff")]),s._v(")\nscene.add(ambient)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SpotLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xff00f0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("800")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\nlight.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\nlight.target = cube\nscene.add(light)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" alpha = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" animate = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n  alpha += "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.01")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (alpha > "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(") {\n    alpha -= "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n  }\n\n  cube.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".cos(alpha), "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".sin(alpha))\n\n  renderer.render(scene, camera)\n  requestAnimationFrame(animate)\n}\n\nanimate()\n")])])]),a("h2",[s._v("5. 阴影")]),s._v(" "),a("p",[s._v("明暗是相对的，阴影的形成是因为比周围获得的光照更少。因此，要形成阴影，光源必不可少。")]),s._v(" "),s._m(10),s._v(" "),s._m(11),s._v(" "),a("p"),s._v(" "),a("del",[s._v("\n比如场景中一个平面上有一个正方体，想要让聚光灯照射在正方体上，产生的阴影投射在平面上，那么就需要对聚光灯和正方体调用 `castShadow = true`，对于平面调用`receiveShadow = true` 。\n以上就是产生阴影效果的必要步骤了，不过通常还需要设置光源的阴影相关属性，才能正确显示出阴影效果。\n对于聚光灯，需要设置 `shadowCameraNear`、`shadowCameraFar`、`shadowCameraFov` 三个值，类比我们在第二章学到的透视投影照相机，只有介于 `shadowCameraNear`与 `shadowCameraFar`之间的物体将产生阴影，`shadowCameraFov` 表示张角。\n对于平行光，需要设置 `shadowCameraNear`、`shadowCameraFar`、`shadowCameraLeft`、`shadowCameraRight`、`shadowCameraTop` 以及 `shadowCameraBottom` 六个值，相当于正交投影照相机的六个面。同样，只有在这六个面围成的长方体内的物体才会产生阴影效果。\n")]),s._v(" "),a("block-demo",{attrs:{tip:"",source:"const renderer = new THREE.WebGLRenderer()\nrenderer.setSize(400, 300)\ndocument.querySelector('#app').appendChild(renderer.domElement)\n\nrenderer.shadowMapEnable = true\n\nconst scene = new THREE.Scene()\n\nconst camera = new THREE.OrthographicCamera(-5, 5, 3.75, -3.75, 0.1, 100)\ncamera.position.set(10, 15, 25)\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\nscene.add(camera)\n\n// 绘底部平面\nconst plane = new THREE.Mesh(\n  new THREE.PlaneGeometry(8, 8, 12, 12),\n  new THREE.MeshLambertMaterial({ color: 0xcccccc })\n)\nplane.rotation.x = -Math.PI / 2\nplane.position.y = -1\nplane.receiveShadow = true\nscene.add(plane)\n\n// 绘制立方体\nconst cube = new THREE.Mesh(\n  new THREE.CubeGeometry(1, 1, 1),\n  new THREE.MeshLambertMaterial({ color: 0xff0000 })\n)\ncube.castShadow = true\nscene.add(cube)\n\n// 环境光\nconst ambient = new THREE.AmbientLight(0x666666)\nscene.add(ambient)\n\n// 聚光灯\nconst light = new THREE.SpotLight(0x00f0f0, 1, 800, Math.PI / 6, 25)\nlight.position.set(2, 2, 3)\nlight.target = cube\nlight.castShadow = true\n\nlight.shadow.camera.near = 2\nlight.shadow.camera.far = 100\nlight.shadow.camera.fov = 30\nlight.shadow.camera.visible = true\n\nlight.shadow.mapSize.width = 1024\nlight.shadow.mapSize.height = 1024\n\nscene.add(light)\n\nlet alpha = 0\n\nconst animate = () => {\n  alpha += 0.01\n  if (alpha > Math.PI * 2) {\n    alpha -= Math.PI * 2\n  }\n\n  cube.position.set(2 * Math.cos(alpha), 0, 2 * Math.sin(alpha))\n\n  renderer.render(scene, camera)\n  requestAnimationFrame(animate)\n}\n\nanimate()\n"}},[a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" renderer = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.WebGLRenderer()\nrenderer.setSize("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("400")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("300")]),s._v(")\n"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("document")]),s._v(".querySelector("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'#app'")]),s._v(").appendChild(renderer.domElement)\n\nrenderer.shadowMapEnable = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" scene = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Scene()\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" camera = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.OrthographicCamera("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-3.75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v(")\ncamera.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("10")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\ncamera.lookAt("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Vector3("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("))\nscene.add(camera)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" plane = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.PlaneGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("8")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("12")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xcccccc")]),s._v(" })\n)\nplane.rotation.x = -"),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\nplane.position.y = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-1")]),s._v("\nplane.receiveShadow = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nscene.add(plane)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" cube = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.Mesh(\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.CubeGeometry("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("),\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.MeshLambertMaterial({ "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("color")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0xff0000")]),s._v(" })\n)\ncube.castShadow = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\nscene.add(cube)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" ambient = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.AmbientLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x666666")]),s._v(")\nscene.add(ambient)\n\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" light = "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("new")]),s._v(" THREE.SpotLight("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0x00f0f0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("800")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI / "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("6")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("25")]),s._v(")\nlight.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("3")]),s._v(")\nlight.target = cube\nlight.castShadow = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\nlight.shadow.camera.near = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\nlight.shadow.camera.far = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100")]),s._v("\nlight.shadow.camera.fov = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("30")]),s._v("\nlight.shadow.camera.visible = "),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n\nlight.shadow.mapSize.width = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v("\nlight.shadow.mapSize.height = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1024")]),s._v("\n\nscene.add(light)\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" alpha = "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" animate = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n  alpha += "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.01")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" (alpha > "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(") {\n    alpha -= "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".PI * "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v("\n  }\n\n  cube.position.set("),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".cos(alpha), "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" * "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Math")]),s._v(".sin(alpha))\n\n  renderer.render(scene, camera)\n  requestAnimationFrame(animate)\n}\n\nanimate()\n")])])])],1)},[function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("环境光是指场景整体的光照效果，通常用来为整个场景指定一个 "),e("strong",[this._v("基础亮度")]),this._v("。环境光没有明确的光源位置，在各处形成的亮度是一致的。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("点光源构造函数为："),e("code",{pre:!0},[this._v("new THREE.PointLight(hex, intensity, distance)")]),this._v("。")])},function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ul",[a("li",[a("code",{pre:!0},[s._v("hex")]),s._v(": 光源颜色")]),s._v(" "),a("li",[a("code",{pre:!0},[s._v("intensity")]),s._v(": 亮度，默认 1")]),s._v(" "),a("li",[a("code",{pre:!0},[s._v("distance")]),s._v(": 光源照射距离，默认 0")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("平行光的构造函数为："),e("code",{pre:!0},[this._v("new THREE.DirectionalLight(hex, intensity)")]),this._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("官网上对聚光灯的定义为："),e("code",{pre:!0},[this._v("A point light that can cast shadow in one direction.")]),this._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("聚光灯构造函数为："),e("code",{pre:!0},[this._v("new THREE.SpotLight(hex, intensity, distance, angle, exponent)")]),this._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("ul",[e("li",[e("code",{pre:!0},[this._v("angle")]),this._v(": 聚光灯的张角，默认 Math.PI / 3，最大是 Math.PI / 2")]),this._v(" "),e("li",[e("code",{pre:!0},[this._v("exponent")]),this._v(": 光强在距离 target 的衰减指数，默认值 10")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[this._v("light.position.set(x1, y1, z1)\nlight.targte.position.set(x2, y2, z2)\n")])])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("除了设置 "),e("code",{pre:!0},[this._v("light.target.position")]),this._v(" 外，如果要让聚光灯跟着某物体一起动，可以指定 "),e("code",{pre:!0},[this._v("targer")]),this._v(" 为该物体。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-javascript"}},[this._v("light.target = cube\n")])])},function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("p",[s._v("在 THREE.js 中，能形成阴影的光源只有 "),a("code",{pre:!0},[s._v("THREE.DirectionalLight")]),s._v(" 和 "),a("code",{pre:!0},[s._v("THREE.SpotLight")]),s._v("；相应地可以表现阴影效果的材质只有 "),a("code",{pre:!0},[s._v("THREE.LambertMaterial")]),s._v(" 和 "),a("code",{pre:!0},[s._v("THREE.PhongMaterial")]),s._v("。")])},function(){var s=this.$createElement,e=this._self._c||s;return e("p",[this._v("要启用阴影效果，需要显示地告诉渲染器："),e("code",{pre:!0},[this._v("renderer.shadowMapEnabled = true;")]),this._v("。对于光源及要产生阴影的物体调用 "),e("code",{pre:!0},[this._v("xxx.castShadow = true")]),this._v(" ，对接收阴影的物体调用 "),e("code",{pre:!0},[this._v("xxx.receiveShadow = true")]),this._v("。")])}],!1,null,null,null);e.default=t.exports}}]);